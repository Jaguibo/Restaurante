import logging
from flask import Flask
from flask_cors import CORS

# üîÅ Rutas (blueprints)
from backend.routes.auth import auth
from backend.routes.pedidos import pedidos
from backend.routes.ventas import ventas
from backend.routes.cocina import cocina
from backend.routes.cuentas import cuentas
from backend.routes.admin import admin
from backend.routes.promociones import promociones_bp

from backend.db import get_db_connection, setup_database

# üìù Configuraci√≥n de logs
logger = logging.getLogger(__name__)
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s [%(levelname)s] %(message)s",
    datefmt="%Y-%m-%d %H:%M:%S"
)

# üë§ Crear usuario admin por defecto si no existe
def insertar_admin_si_no_existe():
    try:
        with get_db_connection() as conn:
            existe = conn.execute("SELECT 1 FROM usuarios WHERE usuario = 'admin'").fetchone()
            if not existe:
                conn.execute(
                    "INSERT INTO usuarios (usuario, password, rol) VALUES (?, ?, ?)", 
                    ('admin', 'admin', 'admin')  # ‚ö†Ô∏è En producci√≥n, encripta esta clave
                )
                conn.commit()
                logger.info("‚úÖ Usuario admin creado por defecto")
            else:
                logger.info("‚ÑπÔ∏è Usuario admin ya existe")
    except Exception as e:
        logger.exception("‚ùå Error al insertar usuario admin")


# üöÄ Crear la aplicaci√≥n Flask
def create_app():
    try:
        logger.info("üõ†Ô∏è Iniciando aplicaci√≥n Flask...")

        app = Flask(__name__)
        app.secret_key = "clave-super-segura"  # üîê Cambia esto en producci√≥n

        # üç™ Configuraci√≥n de cookies
        app.config["SESSION_COOKIE_SAMESITE"] = "Lax"
        app.config["SESSION_COOKIE_SECURE"] = False  # True en producci√≥n con HTTPS

        # üîÑ Habilita CORS para frontend local
        CORS(app, supports_credentials=True, origins=[
            "http://localhost:5500",
            "http://127.0.0.1:5500"
        ])

        # üîß Inicializa la base de datos y crea usuario admin
        setup_database()
        insertar_admin_si_no_existe()

        # üì¶ Registrar rutas
        app.register_blueprint(auth)
        app.register_blueprint(pedidos)
        app.register_blueprint(ventas)
        app.register_blueprint(cocina)
        app.register_blueprint(cuentas)
        app.register_blueprint(admin)
        app.register_blueprint(promociones_bp)

        logger.info("‚úÖ Aplicaci√≥n Flask creada con √©xito")
        return app

    except Exception as e:
        logger.exception("‚ùå Error al crear la aplicaci√≥n Flask")
        raise
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
ERROR:backend:\u274c Error al insertar usuario admin
Traceback (most recent call last):
  File "c:\Users\a\Downloads\Santobocado\backend\__init__.py", line 30, in insertar_admin_si_no_existe
    conn.execute(
sqlite3.OperationalError: table usuarios has no column named password_hash
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:werkzeug: * Detected change in 'c:\\Users\\a\\Downloads\\Santobocado\\backend\\__init__.py', reloading
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2705 Usuario admin creado por defecto
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f464 Verificando existencia de usuario admin...
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:werkzeug: * Detected change in 'c:\\Users\\a\\Downloads\\Santobocado\\run.py', reloading
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:werkzeug: * Detected change in 'c:\\Users\\a\\Downloads\\Santobocado\\backend\\__init__.py', reloading
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:24:09] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: admin | Rol: admin | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:24:09] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:24:10] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:24:10] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:24:10] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:24:10] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:20] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:20] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:20] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:20] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:55] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:55] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:55] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:26:55] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:27:04] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:27:04] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:27:04] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:27:04] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:01] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:01] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:01] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:01] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:05] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:05] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:05] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:05] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:38] "OPTIONS /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:38] "POST /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:38] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:38] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:38] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:38] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:30:38] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:11] "OPTIONS /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:11] "POST /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:11] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:12] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:12] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:12] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:12] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:35] "OPTIONS /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:35] "POST /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:35] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:35] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:35] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:35] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:35] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:43] "OPTIONS /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:43] "POST /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:43] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:44] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:44] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:44] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:31:44] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:10] "OPTIONS /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:10] "POST /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:10] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:11] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:11] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:11] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:11] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:17] "OPTIONS /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:17] "POST /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:17] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:17] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:18] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:18] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:32:18] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:33:07] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:33:07] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:33:08] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:33:08] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:33:08] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:34:09] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:35:08] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:36:09] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:37:08] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:38:09] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:39:09] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:40:09] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:41:10] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:42:11] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:43:12] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:13] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:44:16] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:45:17] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:46:17] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:47:17] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:48:17] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:17] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:37] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:37] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:37] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:37] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:37] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:37] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:37] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:49:38] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:50:38] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:51:38] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:52:38] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:53:38] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:38] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:54:39] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:55:40] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:56:40] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:57:40] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:58:40] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 20:59:40] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:00:40] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:01:40] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:41] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:57] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:57] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:57] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:57] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:58] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:58] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:58] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:02:58] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:02] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:02] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:02] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:02] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:36] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:36] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:36] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:03:36] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:04:03] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:03] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:52] "OPTIONS /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:52] "POST /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:52] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:53] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:53] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:53] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:53] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:53] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:53] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:53] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:05:54] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:06:54] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:07:53] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:08:54] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:07] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:11] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:11] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:11] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:09:11] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:10:12] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:11] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:43] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:43] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:43] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:43] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:43] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:44] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:11:44] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:root:\U0001f527 Inicializando base de datos...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:root:\u2705 Base de datos lista.
INFO:root:\u2699\ufe0f Creando aplicaciÛn Flask...
INFO:backend:\U0001f6e0\ufe0f Iniciando aplicaciÛn Flask...
INFO:backend.db:\u2705 Base de datos inicializada correctamente
INFO:backend:\u2139\ufe0f Usuario admin ya existe
INFO:backend:\u2705 AplicaciÛn Flask creada con Èxito
INFO:root:\u2705 AplicaciÛn Flask creada.
INFO:root:\U0001f680 Servidor Flask corriendo en modo debug en http://localhost:5000
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 279-460-346
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:12:57] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: admin | Rol: admin | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:12:57] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:12:57] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:12:57] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:12:57] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:12:57] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:20] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:20] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:21] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:21] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:21] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:21] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:39] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:39] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:39] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:39] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:39] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:39] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:39] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:46] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:46] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:47] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:47] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:47] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:58] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:58] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:58] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:13:58] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:14:05] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:14:05] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:14:06] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:14:06] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:14:06] "[31m[1mGET /api/productos HTTP/1.1[0m" 403 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:14:06] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:15:07] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:07] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:24] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:24] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:24] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:24] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:24] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:24] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:16:24] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:17:25] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:18:25] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:19:25] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:20:25] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:14] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:14] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:14] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: mesero
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:14] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:20] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:20] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:21] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:21] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:21:21] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:22:22] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:23:22] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:24:22] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:25:22] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:26:21] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:27:22] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:28:22] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:29:23] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:29:28] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:29:28] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:29:28] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:30:28] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:31:09] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:31:09] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:31:09] "GET /api/pedidos-listos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:31:23] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:32] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:32] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:33] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:33] "GET /api/verificar HTTP/1.1" 200 -
INFO:root:[CUENTAS] \u2705 Cuentas abiertas para 'mesero': 0
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:33] "GET /api/cuentas?mesero=mesero HTTP/1.1" 200 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: mesero
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:54] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:59] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:59] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:32:59] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:33:00] "GET /api/verificar HTTP/1.1" 200 -
INFO:root:[CUENTAS] \u2705 Cuentas abiertas para 'mesero': 0
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:33:00] "GET /api/cuentas?mesero=mesero HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:33:27] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:33:27] "GET /api/verificar HTTP/1.1" 200 -
INFO:root:[CUENTAS] \u2705 Cuentas abiertas para 'mesero': 0
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:33:27] "GET /api/cuentas?mesero=mesero HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:33:41] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:33:47] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:17] "GET /api/verificar HTTP/1.1" 200 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: mesero
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:22] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:30] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: admin | Rol: admin | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:30] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:31] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:31] "GET /api/productos HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:31] "GET /api/usuarios HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:31] "GET /api/ventas-dia HTTP/1.1" 200 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: admin
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:42] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:47] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:47] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:34:47] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:35:01] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:36:34] "GET /api/verificar HTTP/1.1" 200 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: mesero
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:36:58] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:37:04] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:37:04] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:37:04] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:02] "GET /api/verificar HTTP/1.1" 200 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: mesero
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:05] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:09] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:10] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:10] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:54] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:55] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:39:59] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:17] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:18] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:20] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:23] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:27] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:28] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:29] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:29] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:31] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:31] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:33] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:33] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: mesero
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:36] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:41] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:41] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:42] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:42] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:40:42] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:01] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:02] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:root:[LOGOUT] \U0001f512 SesiÛn cerrada por: mesero
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:05] "POST /api/logout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:10] "OPTIONS /api/login HTTP/1.1" 200 -
INFO:root:[LOGIN] \u2705 Usuario autenticado: mesero | Rol: mesero | IP: 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:10] "POST /api/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:11] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:11] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:42:11] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:43:50] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:43:50] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:49:38] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jun/2025 21:49:38] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:31] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:31] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:52] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:52] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:53] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:53] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:53] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:54] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:54] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:55] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:55] "GET /api/verificar HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jun/2025 09:43:55] "[33mGET /api/cuentas-abiertas HTTP/1.1[0m" 404 -
